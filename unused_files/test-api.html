<!DOCTYPE html>
<html>

<head>
    <title>API Test</title>
</head>

<body>
    <h1>Testing API Connection...</h1>
    <div id="result"></div>
    <script>
        fetch('http://localhost:8081/api/v1/fraud/check', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                amount: 181.0,
                oldBalance: 181.0,
                newBalance: 0.0,
                ip: "1.2.3.4",
                email: "test@test.com"
            })
        })
            .then(res => res.json())
            .then(data => {
                document.getElementById('result').innerHTML =
                    '<h2 style="color: green;">✅ SUCCESS!</h2>' +
                    '<p>Score: ' + data.score + '</p>' +
                    '<p>Risk: ' + data.risk + '</p>' +
                    '<p><a href="dashboard.html">Open Dashboard</a></p>';
            })
            .catch(err => {
                document.getElementById('result').innerHTML =
                    '<h2 style="color: red;">❌ FAILED</h2>' +
                    '<p>Error: ' + err.message + '</p>';
            });
    </script>
</body>

</html>